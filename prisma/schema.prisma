// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("mongodb+srv://scc-admin:1dA2WhykZD0B6cWS@cluster0.tfrunk2.mongodb.net/?appName=Cluster0&retryWrites=true&w=majorityApp")
}

model AuditStaff {
  id        String   @id @default(cuid())
  staffId   String   @unique
  name      String
  pin       String
  locations String?  // Comma-separated list of locations
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ClientStaff {
  id        String   @id @default(cuid())
  staffId   String   @unique
  name      String
  pin       String
  location  String
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Inventory {
  id              String   @id @default(cuid())
  skuId           String   @unique
  name            String
  pickingLocation  String?
  bulkLocation    String?
  minQtyOdin      Float    @default(0)
  blockedQtyOdin  Float    @default(0)
  maxQtyOdin      Float    @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model AuditEntry {
  id                      String   @id @default(cuid())
  auditStaffId            String
  auditStaffName          String
  location                String
  skuId                   String
  skuName                 String
  pickingLocation         String?
  pickingQty             Float    @default(0)
  bulkLocation           String?
  bulkQty               Float    @default(0)
  nearExpiryLocation    String?
  nearExpiryQty        Float    @default(0)
  jitLocation           String?
  jitQty               Float    @default(0)
  damagedLocation       String?
  damagedQty           Float    @default(0)
  minQtyOdin           Float    @default(0)
  blockedQtyOdin       Float    @default(0)
  maxQtyOdin           Float    @default(0)
  qtyTested            Float    @default(0)
  totalQuantityIdentified Float    @default(0)
  status                 String   @default("Completed")
  objectionRaised       Boolean  @default(false)
  objectionType         String?
  assignedClientStaffId String?
  assignedClientStaffName String?
  objectionRemarks     String?
  clientAction          String?
  clientActionDate      DateTime?
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}

model Admin {
  id        String   @id @default(cuid())
  username  String   @unique
  password  String
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
